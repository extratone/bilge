<!DOCTYPE HTML>
<html lang="en" dir="ltr">
	<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
		<meta charset="utf-8">

		<title>Siri Speech Synthesis in iOS 15 &mdash; The Psalms</title>
		
		<link rel="stylesheet" type="text/css" href="https://cdn.writeas.net/css/write.e22275dd26a35160e79b7.css" />
		
		<link rel="shortcut icon" href="https://i.snap.as/iTL3WJk.png" />
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		
		<link rel="canonical" href="siri-tts.html" />
		<meta name="generator" content="Write.as">
		<meta name="title" content="Siri Speech Synthesis in iOS 15 &mdash; The Psalms">
		<meta name="description" content="Bewilderingly, Siri is genuinely great at something they were never designed for. The new “Make Spoken Audio From Text” action has fina...">
		
		<meta name="twitter:label1" value="Views">
		<meta name="twitter:data1" value="1,623">
		<link rel="author" href="index.html" />
		<meta name="author" content="The Psalms" />
		<meta itemprop="description" content="Bewilderingly, Siri is genuinely great at something they were never designed for. The new “Make Spoken Audio From Text” action has fina...">
		<meta itemprop="datePublished" content="2021-08-22" />
		<meta name="twitter:card" content="summary">
		<meta name="twitter:description" content="Bewilderingly, Siri is genuinely great at something they were never designed for. The new “Make Spoken Audio From Text” action has fina...">
		<meta name="twitter:title" content="Siri Speech Synthesis in iOS 15 &mdash; The Psalms">
		<meta name="twitter:image" content="https://i.snap.as/I0Yh0jNn.png">
		<meta property="og:title" content="Siri Speech Synthesis in iOS 15" />
		<meta property="og:description" content="Bewilderingly, Siri is genuinely great at something they were never designed for. The new “Make Spoken Audio From Text” action has fina..." />
		<meta property="og:site_name" content="The Psalms" />
		<meta property="og:type" content="article" />
		<meta property="og:url" content="https://bilge.world/siri-tts" />
		<meta property="og:updated_time" content="2021-08-22T10:41:21Z" />
		<meta property="og:image" content="https://i.snap.as/I0Yh0jNn.png" /><meta property="og:image" content="https://i.snap.as/MkHTYMkF.jpeg" /><meta property="og:image" content="https://i.snap.as/P0yJJyUc.png" /><meta property="og:image" content="https://i.snap.as/dktmGQQb.png" /><meta property="og:image" content="https://i.snap.as/8ZsLlxLp.png" /><meta property="og:image" content="https://i.snap.as/RAxa0Id6.png" /><meta property="og:image" content="https://i.snap.as/OMwKdOUI.png" /><meta property="og:image" content="https://i.snap.as/47gjGha3.png" /><meta property="og:image" content="https://i.snap.as/1f7argcU.png" />
		<meta property="article:published_time" content="2021-08-22T10:41:21Z">
		
        
		<style type="text/css">/* Written in November 2020 by David Blue for bilge.world.

Updated September 14th, 2021 with correct footnote formatting.

`Version 3.1.1` https://github.com/extratone/bilge/releases/tag/3.1

Full, up-to-date source code available at https://github.com/extratone/bilge/

# [The Unlicense, Dave Edition](https://gist.github.com/extratone/140a11428b5dd1dda500b3928e0438b1)

Considering my use of Git as a means to track revisions on my own writing, it's important to note that you should feel free to replace all instances of "software" in the above statement with "words," "writing," "expression," etc.

While I appreciate tremendously the work and contribution of [Arlo Bendiken](https://ar.to/2010/01/set-your-code-free) in the form of The Unlicense, I would like to add that I see no need, personally, to make the refutation of Intellectual Property law regarding my own work into some profound ethical statement. As it stands, I have not to my knowledge been the victim of any sort of theft of any kind, and find the suggestion highly unlikely. If I *am*  made aware of such a case, there is certainly a possibility that I may change my mind on this issue, so I suppose I should highlight that **THESE TERMS ARE SUBJECT TO CHANGE**, though I suspect I would be more flattered and/or amused than actually offended. 

I would also like to annotate that my use of this license should not be regarded as a suggestion that anyone else follow my example, or that I "believe in" taking such action regarding one's work, generally. While I did indeed take the time to set up [a repository](https://github.com/extratone/eoi) of John Perry Barlow's "[The Economy of Ideas](https://www.wired.com/1994/03/economy-ideas/)" in a bunch of different document formats, I do not necessarily agree with all of what he argued, especially in the context of the world 27 years later. If you *are* particularly interested in my opinion on the matter for whatever reason, here is what I have to say to you:

The principled beginning of The Open Web was a great moment in history, but - like all historical principles - it is extremely important that we consider *context* and maintain an appropriate level of criticism when looking back on old manifestos written by old white guys. In general, try your best to *be reasonable*.

***

This is free and unencumbered software released into the public domain.

Anyone is free to copy, modify, publish, use, compile, sell, or
distribute this software, either in source code form or as a compiled
binary, for any purpose, commercial or non-commercial, and by any
means.

In jurisdictions that recognize copyright laws, the author or authors
of this software dedicate any and all copyright interest in the
software to the public domain. We make this dedication for the benefit
of the public at large and to the detriment of our heirs and
successors. We intend this dedication to be an overt act of
relinquishment in perpetuity of all present and future rights to this
software under copyright law.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR
OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.

For more information, please refer to <https://unlicense.org>

*/

@import url('https://use.typekit.net/kst2rrh.css');

body {
    font-family: adobe-caslon-pro, serif !important;
    font-weight: 400;
    font-style: normal;
    background-color: #FFF4E6;
}

/* old background-color: #f2f2f2 */

#blog-title a {
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 900;
    font-style: normal;
    /* font-style:bold !important; */
    color: #00006b;
}

header nav a {
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 900;
    font-size: 1.2em;
}

header p.description {
    /* font-style: italic; */
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 700;
    line-height: 200% !important;
    color: #00006b !important;
    font-size: 1em;
    margin-left: inherit;
    margin-right: inherit;
}

body#collection header {
    margin-bottom: 1em !important;
}


header nav a {
    color: #00006b;
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 900;
    /* margin-bottom: 1em; */
}

body,
article {
    font-family: adobe-caslon-pro, serif !important;
    font-weight: 400;
    line-height: 155%;
    font-size: 1.1em !important;
    color: #000000;
    padding-left: 0.5rem;
    padding-right: 0.5rem;
    /* margin-top:1rem !important; */
}


body,
article a:link {
    color: #00006b;
}

body,
article a:visited {
    color: #FF0000;
}

h1 {
    color: #00006b !important;
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 900;
    font-size: 2em !important;
}

h2 {
    color: #00006b !important;
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 700;
    font-size: 1.4em !important;
}

h3 {
    color: #1c0021 !important;
    font-family: proxima-nova-extra-condensed, sans-serif;
    font-weight: 600;
    font-size: 1.3em !important;
}

h4 {
    color: #1c0021 !important;
    font-family: proxima-nova-condensed, sans-serif;
    font-size: 1em !important;
}

h5 {
    color: #1c0021 !important;
    font-family: proxima-nova-condensed, sans-serif;
    font-size: 1em !important;
}

h6 {
    color: #1c0021 !important;
    font-family: proxima-nova-condensed, sans-serif;
    font-size: .85em !important;
}

code {
    /* background-color:#f7ff85 !important; */
    /* border: 1px solid #da2573 !important;
    border-radius: 1px !important; */
    font-size: 0.85em !important;
    color: #1c0021 !important;
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 400;
    /* padding: 0px 0px 0px 0px !important; */
}

body #post pre, body#collection pre, body#post pre, body#subpage pre {
    background: #FFFdeb; !important;
    border: 1px solid #da2573 !important;
    border-radius: 1px !important;
    font-size: 0.85em !important;
    color: #1c0021 !important;
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 400;
    /* padding: 0px 0px 0px 0px !important; */
}

.post-title a:visited,
.post-title a:link {
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 900;
    color: #00006b !important;
    font-size: 1.7rem !important;
}

body#post article time.dt-published,
body#subpage article time.dt-published {
    font-family: proxima-nova-condensed, sans-serif !important;
    color: #00006b !important;
    font-size: 1rem !important;
}

body footer nav {
    font-family: proxima-nova-condensed, sans-serif !important;
    color: #00006b;
}

blockquote {
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 400;
    color: #333333 !important;
    border-left: 2.5px solid #00006b !important;
}

table {
    background-color: #FFFdeb !important;
    font-size: 0.8em !important;
    line-height: 1.2em;
    color: #1c0021 !important;
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 400;
    border: 1px solid #f43f32 !important;
    border-radius: 1px !important;
}

article table td, article table th {
    border: 1px solid !important;
    border-color: #da2573 !important;
}


.gist {
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 400 !important;
    font-size: 18px !important;
}

.gist .gist-meta {
    font-family: proxima-nova-extra-condensed, sans-serif !important;
    font-weight: 600 !important;
    color: #1c0021 !important;
}

.gist, .gist article, .gist article p {
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 400 !important;
}


.gist .gist-file .gist-data {
    background: #FFFdeb; !important;
    border: 1px solid #da2573 !important;
    border-radius: 1px !important;
    font-size: 0.85em !important;
    color: #1c0021 !important;
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 400;
}

.gist, .gist article, .gist article p {
    white-space: normal !important;
}

/* .gist .gist-hr {
    display: hide !important;
} */

hr {
    border: 2px solid red;
}


body footer a.home:link,
body footer a.home:visited {
    color: #00006b;
}

.action {
    font-family: proxima-nova-condensed, sans-serif;
}

nav#manage ul a {
    color: #00006b;
}

nav#paging a {
    color: #00006b !important;
    font-family: proxima-nova-condensed, sans-serif !important;
}


a.bt {
    background-color: #0d0d0d !important;
    color: #00006b !important;
}

a.hashtag {
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 700;
    color: #00006b !important;
}

body#collection #wrapper time,
body#subpage #wrapper time,
body#post article time.dt-published,
body#subpage article time.dt-published {
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 700;
    font-size: 0.95em;
    color: #00006b !important;
}


.custom-nav {
    text-align: center;
    font-size: 0.85em;
    text-transform: uppercase;
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 700;
    color: red;
}

.custom-nav a:link,
.custom-nav a:visited,
.custom-nav a:hover,
.custom-nav a:active {
    color: #00006b;
}

.custom-nav a:hover,
.custom-nav a:active {
    text-decoration: underline;
}

#subscribe-btn {
    border: 1px #FF0000;
    background: #00006b;
    font-family: proxima-nova-condensed, sans-serif;
    font-weight: 700;
    font-size: 1em;
    color: #FFF4E6;
}

#emailsub {
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 700;
}

sup {
    vertical-align: auto !important;
}

.footnote {
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 700;
    /*vertical-align: sub !important; */
    margin: -4px 0px 0 0 !important;
    color: #da2573 !important;
    font-size: 0.8em;
    line-height: 0.1em !important;
    text-decoration:underline #FF0000;
}

.footnote-ref {
    margin-left:15px;
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 700;
    /* margin-left:2.5px; */
    color: #da2573 !important;
    font-size: 1.15em;
    /* text-decoration:underline #FF0000; */
}

.footnote-ref-text {
    font-family: proxima-nova-condensed, sans-serif !important;
    font-weight: 400;
    color: #1c0021 !important;
    font-size: 1em;
    /* border-top: #00006b dotted 1px; */
}</style>
		

	</head>
	<body id="post">
		
		<div id="overlay"></div>

		<header>
		<h1 dir="ltr" id="blog-title"><a rel="author" href="index.html" class="h-card p-author">The Psalms</a></h1>
			<nav>
				
				<a class="pinned" href="about.html">About</a><a class="pinned" href="reading.html">Reading</a><a class="pinned" href="podcast.html">Podcast</a>
				
				
			</nav>
		</header>

		

		<article id="post-body" class="norm h-entry "><h2 id="title" class="p-name dated">Siri Speech Synthesis in iOS 15</h2><time class="dt-published" datetime="2021-08-22T10:41:21Z" pubdate itemprop="datePublished" content="2021-08-22 10:41:21 &#43;0000 UTC">August 22, 2021</time><div class="e-content"><p><img src="https://i.snap.as/8ZsLlxLp.png" alt="Siri Speech Synthesis Banner"/></p>

<h2 id="bewilderingly-siri-is-genuinely-great-at-something-they-were-never-designed-for-the-new-make-spoken-audio-from-text-action-has-finally-been-fixed">Bewilderingly, Siri is genuinely great at something they were never designed for. The new “Make Spoken Audio From Text” action has finally been fixed.</h2>

<p>When I first published my <a href="iphone-ios-music-apps.html">iPhone &amp; Music guide</a> this past April, I’d been pretty active in <em><a href="https://discord.gg/DxQ9jry8J3">AppleScoop</a></em><a href="https://discord.gg/DxQ9jry8J3">’s Discord Server</a>, so I decided to share it there. Editor-in-Chief Flynn – a ridiculously talented web developer <em>and</em> successful independent media entrepreneur – responded “I’m listening to it with the speak feature right now. Is it your voice or someone else? 😛,” Gourd bless his soul. Here’s the specific audio he was talking about:</p>

<p>Of course, I am not a young black man, nor am I even remotely as adept at <a href="why.html">reading my own work aloud</a> as the actual talent, Siri Voice 3, who should be available on your iPhone/iPad right this moment (as long as you’ve updated iOS in the past six months,) via <code>Settings ⇨ Siri &amp; Search ⇨ Siri Voice</code>. (For more details, see <a href="https://support.apple.com/guide/iphone/change-siri-settings-iphc28624b81/ios">this Apple Support page</a>.)</p>

<p><img src="https://i.snap.as/1f7argcU.png" alt="New Siri Voices - iOS 14.5"/></p>

<p>Of the four new Siri voices introduced earlier this year in iOS 14.5, 2 and 3 are by far my favorites, not just because of their <a href="https://www.consumerreports.org/digital-assistants/apples-new-siri-voices-resonate-with-some-black-iphone-users/">resonance with black iPhone users</a>, but because they’re just <em>better</em> in a sense which I believe to be very significant.</p>

<p><iframe allow="monetization" class="embedly-embed" src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FDkS5SYbsEW4%3Ffeature%3Doembed&amp;display_name=YouTube&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DDkS5SYbsEW4&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FDkS5SYbsEW4%2Fhqdefault.jpg&amp;key=d932fa08bf1f47efbbe54cb3d746839f&amp;type=text%2Fhtml&amp;schema=youtube" width="640" height="360" scrolling="no" title="YouTube embed" frameborder="0" allow="autoplay; fullscreen" allowfullscreen="true"></iframe></p>

<p>Before I get ahead of myself, though, I must acknowledge that I am not the first to invest in Siri as a text-to-speech generator. In 2019, <a href="https://twitter.com/atow">Adam Tow</a> released an immensely well-considered Siri Shortcut called “<a href="https://tow.com/shortcuts/record-text-to-speech/">Record Text to Speech</a>,” which provides an interface for recording, editing, and managing text-to-speech audio files with Siri’s original voices. A testament to its robustness: it <em>still works</em> perfectly on my handset running iOS 15 Dev Beta 6 despite having not been updated since <a href="https://routinehub.co/shortcut/2506/">March of last year</a>.</p>



<p><img src="https://i.snap.as/I0Yh0jNn.png" alt="Old Siri TTS Shortcuts"/></p>

<p>I must admit that I found Adam’s shortcut more of a full <em>application</em> than a speedy personal automation, with its full interactive UI menu and darn near <em>800 actions</em>, so I made my own set of shortcuts based on the same idea – using iPhone’s native screen recording feature to capture audio of Siri reading aloud – and varying only by input (manual text input, getting text from a file, or simply reading text from the clipboard.) I’d then send the resulting screen recording in its original video format to my PC, where I’d drop it in <a href="https://www.audacityteam.org">Audacity</a>, in which I’d run <a href="https://github.com/extratone/bilge/blob/main/configuration/Audacity/TruncatenAmpMacro.txt">a simple macro</a> on the audio that truncates silence and amplifies the result so that the loudest point touches the rails. Then, I’d export it, pass it through <a href="https://www.mp3tag.de/en/">Mp3Tag</a> to perfect its metadata, and finally push the end-result .mp3 file to <a href="https://github.com/extratone/bilge/tree/main/audio/TTS">a folder in </a><em><a href="https://github.com/extratone/bilge/tree/main/audio/TTS">The Psalms</a></em><a href="https://github.com/extratone/bilge/tree/main/audio/TTS"> GitHub Repository</a>. (I’ll show you how to embed a web-bound audio file with its direct URL in a webpage in the guide below.) This example was made using this method, but with Siri’s original United States English Voice (for <a href="tweetbot-6-ios-review.html">my Tweetbot 6 review</a>:)</p>



<p>Perhaps you’ll agree with me that this process <em>does the job</em> in functional/accessibility terms, and does so quite well considering how much one would pay to generate the same sort of audio file using Google’s Cloud Platform or IBM’s Watson. Crucially, though, this original voice was not one I could listen to at any length. Siri Voices 2 and 3, however, I <em>can</em>. From my perspective, this means they have crossed a <strong>very significant threshold</strong> which I find vastly more meaningful than just about all of those in the current discourse. Not only can I tolerate them… I genuinely <em>enjoy</em> listening to super-long magazine features read aloud by Siri Voice 2, especially, and I believe I would regardless of the quite serious crush I’ve developed on them.</p>

<p><blockquote class="twitter-tweet"><p lang="ht" dir="ltr">LMAO <a href="https://t.co/l3gPPtbxxL">pic.twitter.com/l3gPPtbxxL</a></p>&mdash; ※ David Blue ※ (@NeoYokel) <a href="https://twitter.com/NeoYokel/status/1387809776072015873?ref_src=twsrc%5Etfw">April 29, 2021</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<p>Unfortunately, using the methods we’ve discussed so far with the new Siri voices is inconvenient, very hit-or-miss, and quite buggy. If you scrub ahead toward the last third or so of the second audio player in this post (after the post’s own,) you’ll hear Siri Voice 2 start to bug out in very amusing ways. Since Apple makes changes to Siri Shortcuts between releases without any public documentation, none of them have ever been reliable enough to write this guide. (For the past 6+ weeks at least, it’s been too broken to be usable.) <em>However</em>, for whatever reason, Apple created a dedicated spoken audio generation action for Siri Shortcuts in iOS 15, called “Make Spoken Audio From Text.”</p>

<p><img src="https://i.snap.as/MkHTYMkF.jpeg" alt="Make Spoken Audio From Text Action - iOS 15"/></p>

<p>For the entirety of iOS 15’s Beta cycle up until Developer Beta 6’s release, this past Tuesday, this action has been <a href="https://mastodon.social/users/DavidBlue/statuses/106580821087349299">hilariously broken</a>, but as soon I discovered it’d been fixed (which was not mentioned whatsoever in <a href="https://developer.apple.com/documentation/ios-ipados-release-notes/ios-ipados-15-beta-release-notes">Apple’s official release notes</a>,) I immediately began composing this dang Post.</p>



<hr/>

<p><img src="https://i.snap.as/RAxa0Id6.png" alt="Make Audio from Article Body 1.1"/></p>

<h1 id="guide">Guide</h1>

<p>So! For those of you currently running the latest iOS 15 Beta and those in the future running the full release, <strong>what follows is a guide on how you can use my own shortcuts and methods to generate, metadate, and embed Siri-powered audio text-to-speech files relatively quickly without having to use desktop-class (or any other) hardware</strong>.</p>

<p><img src="https://i.snap.as/P0yJJyUc.png" alt="TTS Shortcuts Compared"/></p>

<p>To begin, you should install two brand new shortcuts of mine: <strong><a href="https://routinehub.co/shortcut/9953/">Make Audio from Article Body</a></strong> and (if you intend to stick with me to the embed stage, anyway,) my <a href="https://routinehub.co/shortcut/9948/">&lt; audio &gt; Embed Tool</a>. Both should function out of the box, but I would highly encourage that you try building your own shortcut around the <code>Make Spoken Audio From Text</code> action, even if you&#39;ve never worked with Shortcuts (or any sort of automation, for that matter) before, <em>especially</em> if you plan to be using Siri as a text-to-speech generator with any frequency.</p>

<p><iframe allow="monetization" class="embedly-embed" src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F5yZB7OC8Vgk%3Ffeature%3Doembed&amp;display_name=YouTube&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D5yZB7OC8Vgk&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F5yZB7OC8Vgk%2Fhqdefault.jpg&amp;key=d932fa08bf1f47efbbe54cb3d746839f&amp;type=text%2Fhtml&amp;schema=youtube" width="640" height="360" scrolling="no" title="YouTube embed" frameborder="0" allow="autoplay; fullscreen" allowfullscreen="true"></iframe></p>

<h3 id="intended-result">Intended Result</h3>

<p>Throughout this guide, I&#39;m going to be using <a href="johnny-tsunami-smart-house-slavery.html">a five-year-old ramble of mine</a> about the oddly-perceptive bits found in early-oughts Disney movies as example text. Earlier today, I used my own personalized version of my new shortcut to generate an example of in which the process we&#39;re about to explore should result. The ~6000 words of text took just over 3 minutes, 30 seconds to render consistently in three consecutive timed attempts. You can listen to it <a href="https://whyp.it/t/johnny-tsunami-vi-separate-but-equal-siri-voice-2-tts-74752">on Whyp</a> and/or inspect <a href="https://github.com/extratone/bilge/raw/main/audio/TTS/JohnnyTsunami.m4a">the actual file</a> yourself, if you&#39;d like.</p>

<p><img src="https://i.snap.as/dktmGQQb.png" alt="Plain Text Parsed by Safari"/></p>

<h3 id="input-format">Input Format</h3>

<p>If we were trying to do this using any other available method in 2021 – even the expensive ones – our first task would be scrubbing our subject text of any special formatting (Word,) symbols, embed, hyperlinks, and any other data Siri doesn&#39;t understand (roman numerals, for example.) As a Windows user who&#39;s not at all new to free ways to automate accessibility improvements to web content, I envy both you and my new self for the magic available to us in the form of Safari&#39;s abilities to parse complex web content. In my experience, there&#39;s nothing like it (at least nothing available to regular consumers.)</p>

<p>The screenshot embedded above shows the result of a <code>Quick Look</code> action inserted just after the <code>Text</code> action produced by the public version of my shortcut when run on our example. There are three immediately problematic issues:</p>
<ol><li><p>Siri doesn&#39;t understand roman numerals, so she will read “Johnny Tsunami VI” as <em>Johnny Tsunami vee eye</em>.</p></li>

<li><p>“The Psalms” is not my name, though it is what this blog currently returns when asked for a byline. In my experience, this generally isn&#39;t an issue with most mainstream media CMSs.</p></li>

<li><p>The shortcut appears to have failed to retrieve any data for the <code>Published Date</code> variable from my blog. (Also a relatively specific consideration.)</p></li></ol>

<p>If you&#39;ll note in the <em>previous</em> embedded image comparing my custom version of the shortcut (left) to the published version (right,) you&#39;ll note that my chosen solution is to manually input all metadata before actually starting the shortcut. What&#39;s not shown is my corresponding manual inputs in the <code>Encode Trimmed Media</code> action, which includes attaching a retrieved image file (in the Working Copy action you <em>can</em> see) as album art. For my intended use – exclusively generating text-to-speech audio of Posts on this blog – this makes more sense than unnecessarily automating metadata retrieval.</p>

<p>The extraordinary thing about the screenshot, though, is that it doesn&#39;t contain any of the other crap (as described above) found in the original page. (Beforehand, it looked more <a href="https://raw.githubusercontent.com/extratone/bilge/main/posts/johnny-tsunami-smart-house-slavery.md">like this</a>.) It&#39;s especially reliable at parsing WordPress-bound content, which still makes up [s̵͕̈́͊c̶̥̏̚r̶̥͈̃è̴̙͌å̴̹m̵̛̅ͅi̶̦̾͘n̸͎̟̎̃g̶͎͛] percent of the whole web. <strong>Treasure this power</strong>, folks.</p>

<p><img src="https://i.snap.as/OMwKdOUI.png" alt="Simpler TTS Examples"/></p>

<p>If all you need read aloud is the body text, things become even simpler. In the right example above, I&#39;ve simply deleted the <code>Text</code> action and replaced it with <code>Get text from [the Safari Web Article&#39;s body]</code>. Theoretically, one could omit that action, even, and simply use the direct output of <code>Get Body from Article</code> as input for the <code>Make spoken audio from text</code> action, but I say keep the extra step unless it becomes an issue.</p>

<p><strong>If you&#39;re actually <em>beginning</em> with clean plain text</strong> and don&#39;t care about metadata in your final audio file and/or if you&#39;re planning on passing the result through other audio/metadata editing software, anyway, the left, three-action shortcut is all you need. It will result in a <a href="https://www.wikiwand.com/en/Core_Audio_Format">Core Audio Format (.caf)</a> file (like <a href="https://github.com/extratone/bilge/blob/main/audio/egg.caf">this one</a>,) which I know absolutely nothing about except that Audacity and GarageBand support it by default.</p>

<h3 id="sharing-embedding">Sharing/Embedding</h3>

<p>Whichever route you traveled, you should have some sort of audio file, at this point, and if you intend to share and/or embed it, you’ll need to upload said audio to some sort of Web Server which allows direct playback/download of the raw file from external sources. Unless you’ve been skimming, you know by now that I’ve been using <em><a href="https://github.com/extratone/bilge">The Psalms</a></em><a href="https://github.com/extratone/bilge"> GitHub Repository</a> to do this thus far, though one isn’t really supposed to. Every few months, someone on Stack Overflow figures out how to construct or discover the raw link to a given Google Drive file before Google notices and alters it, and I’m afraid you’ll find just about every other cloud/file sharing service in a similarly unreliable situation. If it’s going to be done at scale, I’m afraid it’s ultimately going to require you rent regular, vanilla space on an FTP-enabled fileserver, if one can still do that sort of thing. (I will update this post if/when I find a more ideal solution.)</p>

<p>Within my current system, the raw URL to our example file looks like this:</p>

<pre><code>https://github.com/extratone/bilge/raw/main/audio/TTS/JohnnyTsunami.m4a
</code></pre>

<p>Using my aforelinked, ultra rudimentary <a href="https://routinehub.co/shortcut/9948/">&lt; audio &gt; element Siri Shortcut tool</a> (which I’ve kept on my homescreen with good results for a few months,) we can very quickly turn said raw URL into a properly-formatted HTML5 audio player:</p>

<pre><code>&lt;audio controls&gt;
  &lt;source src=&#34;https://github.com/extratone/bilge/raw/main/audio/TTS/JohnnyTsunami.m4a&#34;&gt;
&lt;/audio&gt;
</code></pre>

<p>Ideally, on the final, reader-facing page, said code should create a player like this:</p>



<p>If further configuration of the player is desired or necessary, see <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio">this Mozilla page</a> for a full list of supported options. Obviously, there are a few older methods of embedding audio players, but I am neither qualified nor interested in exploring them. If you’re in a frustrating bind, I recommend <a href="https://bit.ly/extwa">signing up for my CMS</a>. (Just try it, okay?)</p>

<h3 id="pwoof">Pwoof</h3>

<p>For the sake of bare minimum sample variety, I ran Version 1.0 of the public Make Audio from Article Body shortcut on an article hosted not on WordPress, nor my own CMS, but on Bustle’s ultra-slick, totally-bespoke system (which <a href="https://www.codeandtheory.com/things-we-make/the-outline">began as </a><em><a href="https://www.codeandtheory.com/things-we-make/the-outline">The Outline</a></em>, FYI.) I chose the first permalink I saw in one of its “regular” article formats – not a long feature, nor one of their touch-targeted slideshows.</p>

<p>“<a href="https://www.inputmag.com/tech/onlyfans-is-banning-porn-the-very-thing-that-made-it-big">OnlyFans is banning porn, the very thing that made it big</a>” is an 870-word newsy piece written by Tom Maxwell, who is the only New York Media person ever to accept my Facebook friend request. (Thanks again, Tom.) Without any tweaking, I was able to run the shortcut (from within the Shortcuts app since the Share Sheet appears to be thoroughly fucked at the moment) in a reasonable amount of time – less than 5 minutes, more than 2 – and generate the file embedded below. Notably, I also used a different hosting service – <a href="https://mastodon.social/web/statuses/106798701662102859">mastodon.social</a> – but I certainly don’t plan on doing so at scale and neither should you.</p>



<p>Honestly, <em>Input</em>’s CMS is the cleverest challenge I was able to come up with for this single-day-old shortcut of mine, and I’m quite proud of the result. Though it wasn’t able to retrieve a timestamp, it correctly retrieved the article’s title and byline without fuss and even managed to scrape and attach said article’s featured image as the file’s cover art, though the original’s aspect ratio was obviously sacrificed.</p>

<p><img src="https://i.snap.as/47gjGha3.png"/></p>

<p>If you’re super interested in the truly unmolested output of the attempt, view/download it <a href="https://davidblue.wtf/audio/onlyfansbansample.m4a">here</a>.</p>

<h3 id="hmu">HMU</h3>

<p>Before I depart actual tutorializing and return to opining, I want to express <em>even more aggressively than usual</em> how much I want <em>anyone</em> who see’s any potential benefit the ability to generate audio of my darling Siri Voice 2 reading text, but has further questions/doesn’t have time to fiddle/struggles with my haphazardly-written attempts at guides like this, or who simply wants to talk about any satellite subjects, <strong><a href="https://bit.ly/whoisdavidblue">please reach out to me</a></strong>. <strong>You have no idea how much I’d love to help you configure a personal automation that genuinely, reliably, and durably improves your quality of life.</strong></p>

<p>If you follow this shortlink from within a browser on any iOS device, my full contact card will appear: <code>bit.ly/whoisdavidblue</code>.</p>

<p>Suggestions/requests regarding considerations I’ve obviously missed in this guide are not just <em>welcome</em> in this case, but actually <em>necessary</em>. As long as I am literally the only person talking about the “Make Spoken Audio from Text” action, I am ready and willing to be an all-hours resource.</p>

<h6 id="note-this-post-perhaps-more-than-any-published-yet-on-the-psalms-is-very-much-an-ongoing-work-in-progress-as-are-most-of-the-hyperlinked-shortcuts-contained-within-it">Note: This Post perhaps more than any published yet on <em>The Psalms</em>, is very much an ongoing work-in-progress, as are most of the hyperlinked shortcuts contained within it.</h6>

<p><a href="tag%253Asoftware/index.html" class="hashtag"><span>#</span><span class="p-category">software</span></a></p>
</div></article>

		

		
		<footer dir="ltr"><hr><nav><p style="font-size: 0.9em">published with <a class="home pubd" href="https://write.as/">write.as</a></p></nav></footer>
		

		<noscript><p><img src="https://analytics.write.as/piwik.php?idsite=16" style="border:0;" alt="" /></p></noscript>
	</body>
	
	
		<script type="text/javascript" src="https://platform.twitter.com/widgets.js" async></script><script type="text/javascript" src="https://hypothes.is/embed.js" async></script>
		<script type="text/javascript">var topP = document.createElement("p");
//topP.style.textAlign = "center";
topP.innerHTML = '<hr><div class="custom-nav"><a rel="me" href="https://tiny.write.as/bilge">Tiny</a> ※ <a href="https://twitter.com/NeoYokel">Twitter</a> ※ <a href="https://mastodon.social/@DavidBlue">Mastodon</a> ※ <a href="https://github.com/extratone/bilge">GitHub</a> ※ <a href="https://gist.github.com/extratone/140a11428b5dd1dda500b3928e0438b1">License</a></div>';
var cont = document.getElementById("wrapper");
if (cont !== null) {
    // Add to blog index and tag pages
    cont.appendChild(topP);
} else {
    // Add to individual blog post page
    cont = document.getElementById("post-body");
    cont.insertAdjacentHTML("afterend", topP.outerHTML);
}

// src: https://platform.twitter.com/widgets.js

// src: https://hypothes.is/embed.js

window.hypothesisConfig = function () {
  return {
    "openSidebar": false, 
    "theme": "clean",
    branding: {
      appBackgroundColor: '#e6f7ff',
      ctaBackgroundColor: '#da2573',
      ctaTextColor: '#00006b',
      selectionFontFamily: 'Georgia, serif'
    }
  };
};

// Footnote hyperlinks in the body.
var notePattern = /\[\^(\d+)\]/g;
var noteText = "<a name=\"fn$1\"></a><sup><a class=\"footnote\" href="https://bilge.world/\&quot;#fnref$1\"">$1</a></sup>";

// Footnote references at the bottom.
var refPattern = /\[(\d+)\](.*)/g;
var refText = "<a name=\"fnref$1\"></a><sup><a class=\"footnote-ref\" href="https://bilge.world/\&quot;#fn$1\"">$1</a></sup><span class=\"footnote-ref-text\">$2</span>";

var postContent = document.getElementById("post-body").innerHTML;
postContent = postContent.replace(notePattern, noteText);
postContent = postContent.replace(refPattern, refText);
document.getElementById("post-body").innerHTML = postContent;</script>
	
	
<script>
  
  addEventListener('DOMContentLoaded', function () {
    var hlbaseUri = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/";
    var lb = document.querySelectorAll("code[class^='language-']");

    
    var aliasmap = {
      "elisp"      : "lisp",
      "emacs-lisp" : "lisp",
      "c"          : "cpp",
      "cc"         : "cpp",
      "h"          : "cpp",
      "c++"        : "cpp",
      "h++"        : "cpp",
      "hpp"        : "cpp",
      "hh"         : "cpp",
      "hxx"        : "cpp",
      "cxx"        : "cpp",
      "sh"         : "bash",
      "js"         : "javascript",
      "jsx"        : "javascript",
      "html"       : "xml"
    };

    
    var langs = ["apache", "bash", "coffeescript", "cpp", "cs", "css", "diff",
                 "http", "ini", "java", "javascript", "json", "makefile", "xml",
                 "markdown", "nginx", "objectivec", "perl", "php", "properties",
                 "python", "ruby", "shell", "sql"];

    
    function highlight(nodes) {
      for (i=0; i < nodes.length; i++) {
        hljs.highlightBlock(nodes[i]);
      }
    }

    
    function loadLanguages(uris, callback) {
      uris.forEach(function(uri) {
        var sc = document.createElement('script');
        sc.src = uri;
        sc.async = false; 
        
        if (uris.indexOf(uri) == uris.length-1) {
          
          
          
          sc.onload = callback;
          sc.onerror = callback;
        }
        document.head.appendChild(sc);
      });
    }

    
    if (lb.length > 0) {
      
      var st = document.createElement('link');
      st.rel = "stylesheet";
      st.href = hlbaseUri + "styles/atom-one-light.min.css";
      document.head.appendChild(st);

      
      var jss = [hlbaseUri + "highlight.min.js"];
      
      for (i=0; i < lb.length; i++) {
        lang = lb[i].className.replace('language-','').toLowerCase();
        
        if (aliasmap[lang]) lang = aliasmap[lang];
        lurl = hlbaseUri + "languages/" + lang + ".min.js";
        if (!(langs.includes(lang) || jss.includes(lurl))) {
          jss.push(lurl);
        }
      }
      
      loadLanguages(jss, () => {highlight(lb)});
    }
  });
</script>

	<script src="https://cdn.writeas.net/js/localdate.js" integrity="sha384-2h0jAAXW06POyeBB2kpmJH+tWBF2mCWnv4DucLFRZXs+D8NX/MjGV7C/aCC2Ywki" crossorigin="anonymous"></script>
	<script type="text/javascript">

var pinning = false;
function unpinPost(e, postID) {
	e.preventDefault();
	if (pinning) {
		return;
	}
	pinning = true;

	var $header = document.getElementsByTagName('header')[0];
	var callback = function() {
		
		var $pinnedNavLink = $header.getElementsByTagName('nav')[0].querySelector('.pinned.selected');
		$pinnedNavLink.style.display = 'none';
		try { _paq.push(['trackEvent', 'Post', 'unpin', 'post']); } catch(e) {}
	};

	var $pinBtn = $header.getElementsByClassName('unpin')[0];
	$pinBtn.innerHTML = '...';

	var http = new XMLHttpRequest();
	var url = "/api/collections/bilge/unpin";
	var params = [ { "id": postID } ];
	http.open("POST", url, true);
	http.setRequestHeader("Content-type", "application/json");
	http.onreadystatechange = function() {
		if (http.readyState == 4) {
			pinning = false;
			if (http.status == 200) {
				callback();
				$pinBtn.style.display = 'none';
				$pinBtn.innerHTML = 'Pin';
			} else if (http.status == 409) {
				$pinBtn.innerHTML = 'Unpin';
			} else {
				$pinBtn.innerHTML = 'Unpin';
				alert("Failed to unpin." + (http.status>=500?" Please try again.":""));
			}
		}
	}
	http.send(JSON.stringify(params));
};

var $form = document.getElementById('emailsub');
if ($form != null) {
	$form.onsubmit = function() {
		var $sub = document.getElementById('subscribe-btn');
		$sub.disabled = true;
		$sub.value = 'Subscribing...';
	}
}

	

	
	try { 
	  var _paq = _paq || [];
	  _paq.push(['trackPageView']);
	  _paq.push(['enableLinkTracking']);
	  _paq.push(['enableHeartBeatTimer']);
	  (function() {
		var u="https://analytics.write.as/";
		_paq.push(['setTrackerUrl', u+'piwik.php']);
		_paq.push(['setSiteId', 16]);
		var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
	  })();
	} catch (e) {   }
	
	try { 
	  WebFontConfig = {
		custom: { families: [ 'Lora:400,700:latin', 'Open+Sans:400,700:latin' ], urls: [ 'https:\/\/cdn.writeas.net/css/fonts.4ce1882.css' ] }
	  };
	  (function() {
		var wf = document.createElement('script');
		wf.src = 'https:\/\/cdn.writeas.net/js/webfont.js';
		wf.type = 'text/javascript';
		wf.async = 'true';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(wf, s);
	  })();
	} catch (e) {   }
	</script>

    
</html>