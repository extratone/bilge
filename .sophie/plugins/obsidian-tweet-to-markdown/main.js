/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugin's github repository
*/

'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

const DEFAULT_SETTINGS = {
    bearerToken: null,
    noteLocation: '',
    downloadAssets: false,
    assetLocation: '',
    filename: null,
};
class TTMSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        const { containerEl } = this;
        containerEl.empty();
        containerEl.createEl('h2', { text: 'Settings for Tweet to Markdown' });
        new obsidian.Setting(containerEl)
            .setName('Bearer Token')
            .setDesc(obsidian.Platform.isMobileApp
            ? 'Enter your V2 Twitter bearer token.'
            : 'Enter your V2 Twitter bearer token, or store it in the environment variable TWITTER_BEARER_TOKEN.')
            .addText(text => text
            .setPlaceholder('Twitter v2 bearer token')
            .setValue(this.plugin.settings.bearerToken)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.bearerToken = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Note Location')
            .setDesc('Where to store the created notes. Defaults to the root of the vault.')
            .addText(text => text
            .setPlaceholder('tweets/')
            .setValue(this.plugin.settings.noteLocation)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.noteLocation = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Download images')
            .setDesc('Whether to link images or download them to your vault.')
            .addToggle(toggle => toggle
            .setValue(this.plugin.settings.downloadAssets)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.downloadAssets = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Image Location')
            .setDesc('Where to store the downloaded images. Defaults to `assets/`.')
            .addText(text => text
            .setPlaceholder('assets/')
            .setValue(this.plugin.settings.assetLocation)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.assetLocation = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Filename')
            .setDesc('The name to give the saved tweet file. You can use the placeholders [[handle]], [[name]], [[text]] and [[id]]. Defaults to "[[handle]] - [[id]]"')
            .addText(text => text
            .setPlaceholder('[[handle]] - [[id]]')
            .setValue(this.plugin.settings.filename)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.filename = value;
            yield this.plugin.saveSettings();
        })));
    }
}

/**
 * Credit: lautis/unicode-substring
 * Rewritten for Obsidian mobile functionality.
 */
const charAt = (string, index) => {
    const first = string.charCodeAt(index);
    let second;
    if (first >= 0xd800 && first <= 0xdbff && string.length > index + 1) {
        second = string.charCodeAt(index + 1);
        if (second >= 0xdc00 && second <= 0xdfff) {
            return string.substring(index, index + 2);
        }
    }
    return string[index];
};
const slice = (string, start, end) => {
    let accumulator = '';
    let character;
    let stringIndex = 0;
    let unicodeIndex = 0;
    const length = string.length;
    while (stringIndex < length) {
        character = charAt(string, stringIndex);
        if (unicodeIndex >= start && unicodeIndex < end) {
            accumulator += character;
        }
        stringIndex += character.length;
        unicodeIndex += 1;
    }
    return accumulator;
};
const toNumber = (value, fallback) => {
    if (value === undefined) {
        return fallback;
    }
    else {
        return Number(value);
    }
};
const unicodeSubstring = (string, start, end) => {
    const realStart = toNumber(start, 0);
    const realEnd = toNumber(end, string.length);
    if (realEnd === realStart) {
        return '';
    }
    else if (realEnd > realStart) {
        return slice(string, realStart, realEnd);
    }
    else {
        return slice(string, realEnd, realStart);
    }
};

/**
 * Parses out the tweet ID from the URL the user provided
 * @param {string} src - The URL
 */
const getTweetID = (src) => {
    // Create a URL object with the source. If it fails, it's not a URL.
    const url = new URL(src);
    const id = url.pathname
        .split('/')
        .filter(piece => !!piece) // remove empty strings from array
        .slice(-1)[0];
    if (!id) {
        throw new Error('URL does not seem to be a tweet.');
    }
    return id;
};
/**
 * Fetches a tweet object from the Twitter v2 API
 * @param {string} id - The ID of the tweet to fetch from the API
 * @param {string} bearer - The bearer token
 * @returns {Tweet} - The tweet from the Twitter API
 */
const getTweet = (id, bearer) => __awaiter(void 0, void 0, void 0, function* () {
    const twitterUrl = new URL(`https://api.twitter.com/2/tweets/${id}`);
    const params = new URLSearchParams({
        expansions: 'author_id,attachments.poll_ids,attachments.media_keys',
        'user.fields': 'name,username,profile_image_url',
        'tweet.fields': 'attachments,public_metrics,entities,conversation_id,referenced_tweets',
        'media.fields': 'url',
        'poll.fields': 'options',
    });
    let tweetRequest;
    try {
        tweetRequest = yield obsidian.request({
            method: 'GET',
            url: `${twitterUrl.href}?${params.toString()}`,
            headers: { Authorization: `Bearer ${bearer}` },
        });
    }
    catch (error) {
        if (error.request) {
            throw new Error('There seems to be a connection issue.');
        }
        else {
            console.error(error);
            throw error;
        }
    }
    const tweet = JSON.parse(tweetRequest);
    if (tweet.errors) {
        throw new Error(tweet.errors[0].detail);
    }
    if (tweet === null || tweet === void 0 ? void 0 : tweet.reason) {
        switch (tweet.reason) {
            case 'client-not-enrolled':
            default:
                throw new Error('There seems to be a problem with your bearer token.');
        }
    }
    return tweet;
});
/**
 * Creates markdown table to capture poll options and votes
 * @param {Poll[]} polls - The polls array provided by the Twitter v2 API
 * @returns {string} - Markdown table as a string of the poll
 */
const createPollTable = (polls) => {
    return polls.map((poll) => {
        const table = ['\n|Option|Votes|', '|---|:---:|'];
        const options = poll.options.map(option => `|${option.label}|${option.votes}|`);
        return table.concat(options).join('\n');
    });
};
/**
 * Filename sanitization. Credit: parshap/node-sanitize-filename
 * Rewrite to allow functionality on Obsidian mobile.
 */
const illegalRe = /[/?<>\\:*|"]/g;
// eslint-disable-next-line no-control-regex
const controlRe = /[\x00-\x1f\x80-\x9f]/g;
const reservedRe = /^\.+$/;
const windowsReservedRe = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i;
const windowsTrailingRe = /[. ]+$/;
/**
 * Sanitize a filename to remove any illegal characters.
 * Also keeps the filename to 255 bytes or below.
 * @param filename string
 * @returns string
 */
const sanitizeFilename = (filename) => {
    filename = filename
        .replace(illegalRe, '')
        .replace(controlRe, '')
        .replace(reservedRe, '')
        .replace(windowsReservedRe, '')
        .replace(windowsTrailingRe, '');
    return truncateBytewise(filename, 252);
};
/**
 * Truncate a string to a specified number of bytes
 * @param string the string to truncate
 * @param length the maximum length in bytes of the trimmed string
 * @returns string
 */
const truncateBytewise = (string, length) => {
    const originalLength = length;
    while (new TextEncoder().encode(string).length > originalLength) {
        string = unicodeSubstring(string, 0, length--);
    }
    return string;
};
/**
 * Creates a filename based on the tweet and the user defined options.
 * @param {Tweet} tweet - The entire tweet object from the Twitter v2 API
 * @param {filename} string - The filename provided by the user
 * @returns {string} - The filename based on tweet and options
 */
const createFilename = (tweet, filename = '') => {
    filename = filename ? filename : '[[handle]] - [[id]]';
    filename = filename.replace(/\.md$/, ''); // remove md extension if provided
    filename = filename.replace('[[name]]', tweet.includes.users[0].name);
    filename = filename.replace('[[handle]]', tweet.includes.users[0].username);
    filename = filename.replace('[[id]]', tweet.data.id);
    filename = filename.replace('[[text]]', tweet.data.text);
    return sanitizeFilename(filename) + '.md';
};
/**
 * Creates media links to embed media into the markdown file
 * @param {Media[]} media - The tweet media object provided by the Twitter v2 API
 * @returns {string[]} - An array of markdown image links
 */
const createMediaElements = (settings, media) => {
    return media
        .map((medium) => {
        if (settings.downloadAssets) {
            const assetLocation = settings.assetLocation || 'assets';
            const filepath = obsidian.normalizePath(`${assetLocation}/${medium.media_key}.jpg`);
            switch (medium.type) {
                case 'photo':
                    return `\n![${medium.media_key}](${filepath})`;
            }
        }
        else {
            switch (medium.type) {
                case 'photo':
                    return `\n![${medium.media_key}](${medium.url})`;
            }
        }
    })
        .filter(medium => !!medium);
};
/**
 * Creates the entire Markdown string of the provided tweet
 */
const buildMarkdown = (app, plugin, downloadManager, tweet, type = 'normal') => __awaiter(void 0, void 0, void 0, function* () {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;
    let metrics = [];
    metrics = [
        `likes: ${tweet.data.public_metrics.like_count}`,
        `retweets: ${tweet.data.public_metrics.retweet_count}`,
        `replies: ${tweet.data.public_metrics.reply_count}`,
    ];
    let text = tweet.data.text;
    const user = tweet.includes.users[0];
    /**
     * replace entities with markdown links
     */
    if ((_a = tweet.data) === null || _a === void 0 ? void 0 : _a.entities) {
        /**
         * replace any mentions, hashtags, cashtags, urls with links
         */
        ((_b = tweet.data.entities) === null || _b === void 0 ? void 0 : _b.mentions) &&
            ((_c = tweet.data.entities) === null || _c === void 0 ? void 0 : _c.mentions.forEach(({ username }) => {
                text = text.replace(`@${username}`, `[@${username}](https://twitter.com/${username})`);
            }));
        ((_d = tweet.data.entities) === null || _d === void 0 ? void 0 : _d.hashtags) &&
            ((_e = tweet.data.entities) === null || _e === void 0 ? void 0 : _e.hashtags.forEach(({ tag }) => {
                text = text.replace(`#${tag}`, `[#${tag}](https://twitter.com/hashtag/${tag}) `);
            }));
        ((_f = tweet.data.entities) === null || _f === void 0 ? void 0 : _f.cashtags) &&
            ((_g = tweet.data.entities) === null || _g === void 0 ? void 0 : _g.cashtags.forEach(({ tag }) => {
                text = text.replace(`$${tag}`, `[$${tag}](https://twitter.com/search?q=%24${tag})`);
            }));
        ((_h = tweet.data.entities) === null || _h === void 0 ? void 0 : _h.urls) &&
            ((_j = tweet.data.entities) === null || _j === void 0 ? void 0 : _j.urls.forEach(url => {
                text = text.replace(url.url, `[${url.display_url}](${url.expanded_url})`);
            }));
    }
    /**
     * Define the frontmatter as the name, handle, and source url
     */
    const frontmatter = [
        '---',
        `author: "${user.name}"`,
        `handle: "@${user.username}"`,
        `source: "https://twitter.com/${user.username}/status/${tweet.data.id}"`,
        ...metrics,
        '---',
    ];
    const assetPath = plugin.settings.assetLocation || 'assets';
    let markdown = [
        `![${user.username}](${plugin.settings.downloadAssets
            ? obsidian.normalizePath(`${assetPath}/${user.username}-${user.id}.jpg`)
            : user.profile_image_url})`,
        `${user.name} ([@${user.username}](https://twitter.com/${user.username}))`,
        '\n',
        `${text}`, // text of the tweet
    ];
    // markdown requires 2 line breaks for actual new lines
    markdown = markdown.map(line => line.replace(/\n/g, '\n\n'));
    // Add in other tweet elements
    if ((_k = tweet.includes) === null || _k === void 0 ? void 0 : _k.polls) {
        markdown = markdown.concat(createPollTable(tweet.includes.polls));
    }
    if ((_l = tweet.includes) === null || _l === void 0 ? void 0 : _l.media) {
        markdown = markdown.concat(createMediaElements(plugin.settings, (_m = tweet.includes) === null || _m === void 0 ? void 0 : _m.media));
    }
    // download images
    if (plugin.settings.downloadAssets) {
        downloadImages(app, downloadManager, tweet, plugin.settings.assetLocation || 'assets');
    }
    // check for quoted tweets to be included
    if ((_o = tweet.data) === null || _o === void 0 ? void 0 : _o.referenced_tweets) {
        for (const subtweet_ref of (_p = tweet.data) === null || _p === void 0 ? void 0 : _p.referenced_tweets) {
            if ((subtweet_ref === null || subtweet_ref === void 0 ? void 0 : subtweet_ref.type) === 'quoted') {
                const subtweet = yield getTweet(subtweet_ref.id, plugin.bearerToken);
                const subtweet_text = yield buildMarkdown(app, plugin, downloadManager, subtweet, 'quoted');
                markdown.push('\n\n' + subtweet_text);
            }
        }
    }
    // indent all lines for a quoted tweet
    if (type === 'quoted') {
        markdown = markdown.map(line => '> ' + line);
    }
    switch (type) {
        case 'normal':
            return frontmatter.concat(markdown).join('\n');
        case 'thread':
            return '\n\n---\n\n' + markdown.join('\n');
        case 'quoted':
            return '\n\n' + markdown.join('\n');
        default:
            return '\n\n' + markdown.join('\n');
    }
});
const downloadImages = (app, downloadManager, tweet, assetLocation = 'assets') => {
    var _a, _b;
    const user = tweet.includes.users[0];
    // create the image folder
    app.vault.createFolder(assetLocation).catch(() => { });
    let filesToDownload = [];
    filesToDownload.push({
        url: user.profile_image_url,
        title: `${user.username}-${user.id}.jpg`,
    });
    (_b = (_a = tweet.includes) === null || _a === void 0 ? void 0 : _a.media) === null || _b === void 0 ? void 0 : _b.forEach((medium) => {
        switch (medium.type) {
            case 'photo':
                filesToDownload.push({
                    url: medium.url,
                    title: `${medium.media_key}.jpg`,
                });
                break;
        }
    });
    //Filter out tweet images that already exist locally
    filesToDownload = filesToDownload.filter(file => !doesFileExist(app, `${assetLocation}/${file.title}`));
    if (!filesToDownload.length) {
        return;
    }
    downloadManager.addDownloads(filesToDownload.map((file) => __awaiter(void 0, void 0, void 0, function* () {
        const imageRequest = yield fetch(file.url, {
            method: 'GET',
        });
        const image = yield imageRequest.arrayBuffer();
        return yield app.vault.createBinary(`${assetLocation}/${file.title}`, image);
    })));
};
const doesFileExist = (app, filepath) => {
    filepath = obsidian.normalizePath(filepath);
    // see if file already exists
    let file;
    try {
        file = app.vault.getAbstractFileByPath(filepath);
    }
    catch (error) {
        return false;
    }
    return !!file;
};

const createDownloadManager = () => {
    const downloadList = [];
    let isAnnounced = false;
    const addDownloads = (downloads) => {
        downloadList.push(...downloads);
        if (!isAnnounced) {
            isAnnounced = true;
            new obsidian.Notice('Downloading images...');
        }
    };
    const finishDownloads = () => Promise.all(downloadList);
    return {
        addDownloads,
        finishDownloads,
    };
};

class TweetCompleteModal extends obsidian.Modal {
    constructor(app, plugin) {
        super(app);
        this.plugin = plugin;
    }
    onOpen() {
        const { contentEl, titleEl } = this;
        titleEl.setText('Name tweet file');
        let filename = createFilename(this.plugin.currentTweet, this.plugin.settings.filename);
        new obsidian.Setting(contentEl)
            .setName('Filename')
            .setDesc('Set the name of the file. You can use the placeholders [[handle]], [[name]], [[text]], and [[id]].')
            .addText(input => {
            input.setValue(filename);
            input
                .onChange(value => {
                filename = createFilename(this.plugin.currentTweet, value);
            })
                .setPlaceholder('[[handle]] - [[id]]');
        });
        new obsidian.Setting(contentEl).addButton(button => {
            button.setButtonText('Save Tweet');
            button.onClick(() => __awaiter(this, void 0, void 0, function* () {
                // see if file already exists
                const file = doesFileExist(this.app, `${this.plugin.settings.noteLocation}/${filename}`);
                if (file) {
                    new obsidian.Notice(`The file ${filename} already exists`);
                    return;
                }
                if (this.plugin.settings.noteLocation) {
                    // create the directory
                    const doesFolderExist = yield this.app.vault.adapter.exists(this.plugin.settings.noteLocation);
                    if (!doesFolderExist) {
                        yield this.app.vault
                            .createFolder(this.plugin.settings.noteLocation)
                            .catch(error => {
                            new obsidian.Notice('Error creating tweet directory.');
                            console.error('There was an error creating the tweet directory.', error);
                        });
                    }
                }
                // write the note to file
                yield this.app.vault.create(`${this.plugin.settings.noteLocation}/${filename}`, this.plugin.currentTweetMarkdown);
                new obsidian.Notice(`${filename} created.`);
                this.close();
            }));
        });
    }
    onClose() {
        const { contentEl, titleEl } = this;
        titleEl.empty();
        contentEl.empty();
        // clean up
        this.plugin.currentTweet = null;
        this.plugin.currentTweetMarkdown = null;
    }
}

class TweetUrlModal extends obsidian.Modal {
    constructor(app, plugin) {
        super(app);
        this.url = '';
        this.thread = false;
        this.plugin = plugin;
    }
    onOpen() {
        const { contentEl, titleEl } = this;
        titleEl.setText('Download Tweet');
        new obsidian.Setting(contentEl)
            .setName('Tweet URL')
            .setDesc('Enter the URL of the tweet to download.')
            .addText(input => {
            input
                .setValue(this.url)
                .onChange(value => (this.url = value))
                .setPlaceholder('Tweet URL');
        });
        new obsidian.Setting(contentEl)
            .setName('Tweet thread')
            .setDesc('Download a tweet thread. (Put the link to the LAST tweet in the thread).')
            .addToggle(toggle => {
            toggle.setValue(false).onChange(value => {
                this.thread = value;
            });
        });
        new obsidian.Setting(contentEl)
            .setClass('download_tweet_button')
            .addButton(button => {
            button.setButtonText('Download Tweet');
            button.onClick(() => __awaiter(this, void 0, void 0, function* () {
                // error checking for kickoff
                let bearerToken;
                if (obsidian.Platform.isMobileApp) {
                    bearerToken = this.plugin.settings.bearerToken || '';
                }
                else {
                    bearerToken =
                        this.plugin.settings.bearerToken ||
                            process.env.TWITTER_BEARER_TOKEN ||
                            '';
                }
                if (!this.url) {
                    new obsidian.Notice('No tweet link provided.');
                    return;
                }
                let id = '';
                try {
                    id = getTweetID(this.url);
                }
                catch (error) {
                    new obsidian.Notice(error.message);
                    return;
                }
                if (!bearerToken) {
                    new obsidian.Notice('Bearer token was not found.');
                    return;
                }
                this.plugin.bearerToken = bearerToken;
                this.downloadManager = createDownloadManager();
                // set the button as loading
                button.setButtonText('Loading...');
                button.setDisabled(true);
                // fetch tweet
                try {
                    this.plugin.currentTweet = yield getTweet(id, bearerToken);
                }
                catch (error) {
                    new obsidian.Notice(error.message);
                    // set the button as loading
                    button.setButtonText('Download Tweet');
                    button.setDisabled(false);
                    return;
                }
                this.plugin.currentTweetMarkdown = '';
                // special handling for threads
                if (this.thread) {
                    // check if this is the head tweet
                    while (this.plugin.currentTweet.data.conversation_id !==
                        this.plugin.currentTweet.data.id) {
                        const markdown = yield buildMarkdown(this.app, this.plugin, this.downloadManager, this.plugin.currentTweet, 'thread');
                        this.plugin.currentTweetMarkdown =
                            markdown + this.plugin.currentTweetMarkdown;
                        // load in parent tweet
                        const [parent_tweet] = this.plugin.currentTweet.data.referenced_tweets.filter(ref_tweet => ref_tweet.type === 'replied_to');
                        this.plugin.currentTweet = yield getTweet(parent_tweet.id, bearerToken);
                    }
                }
                const markdown = yield buildMarkdown(this.app, this.plugin, this.downloadManager, this.plugin.currentTweet);
                this.plugin.currentTweetMarkdown =
                    markdown + this.plugin.currentTweetMarkdown;
                yield this.downloadManager
                    .finishDownloads()
                    .then(results => {
                    if (results.length) {
                        new obsidian.Notice('Images downloaded.');
                    }
                })
                    .catch(error => {
                    new obsidian.Notice('There was an error downloading the images.');
                    console.error(error);
                });
                this.close();
            }));
        });
    }
    onClose() {
        const { contentEl, titleEl } = this;
        titleEl.empty();
        contentEl.empty();
        if (this.plugin.currentTweetMarkdown) {
            this.plugin.tweetComplete = new TweetCompleteModal(this.plugin.app, this.plugin);
            this.plugin.tweetComplete.open();
        }
    }
}

class TTM extends obsidian.Plugin {
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            console.info('loading ttm');
            obsidian.addIcon('twitter', '<path fill="currentColor" stroke="currentColor" d="M50.583 35.174c1.361-.402 3.076-.258 4.5-.44a58.326 58.326 0 007.834-1.572c8.806-2.383 17.139-6.943 23.833-13.147 2.062-1.91 4.303-3.939 5.917-6.257h.083c3.816 7.251 3.671 15.886-1.344 22.583-1.275 1.702-3.033 3.74-4.99 4.667v.083c3.307-.027 6.312-1.211 9.25-2.583 0 7.586-4.087 14.845-10.916 18.354-1.642.844-3.549 1.747-5.417 1.896v.083c2.866.807 6.173 1.05 9.084.333-.173 1.982-1.734 4.281-2.886 5.834-3.764 5.07-9.756 8.333-16.114 8.333 1.602 1.471 3.6 2.649 5.5 3.692a41.641 41.641 0 0017.166 5.05c2.5.172 4.93-.152 7.417-.159v.084c-2.239 1.191-4.352 2.578-6.667 3.64-4.485 2.06-9.222 3.599-14.083 4.475-3.516.634-6.939.718-10.5.718-4.04 0-7.936-.12-11.917-.9-14.826-2.908-27.945-11.673-36.221-24.35-4.66-7.138-7.832-15.174-9.242-23.583-.465-2.772-.588-5.543-.78-8.334-.066-.976.374-2.43.027-3.33-.168-.432-.769-.727-1.117-1.003a50.039 50.039 0 01-2.5-2.098c-2.432-2.2-4.773-4.77-6.5-7.569l4.167 1.524 7.5 1.643v-.083c-1.046-.452-1.967-1.27-2.834-1.994-2.753-2.298-5.13-5.684-6.083-9.173 1.223.36 2.427 1.252 3.583 1.812 1.972.954 4.064 1.691 6.167 2.295.88.253 1.994.713 2.917.69.46-.012.843-.552 1.166-.833.89-.77 1.769-1.517 2.75-2.171 2.52-1.68 5.43-2.732 8.417-3.174 9.758-1.444 19.486 4.708 22.414 14.13.706 2.271 1.075 4.79.912 7.168-.085 1.234-.393 2.441-.493 3.666z"/>');
            yield this.loadSettings();
            // clean up null string default settings
            if (this.settings.noteLocation === null) {
                this.settings.noteLocation = '';
                console.info('Cleaning up note location setting.');
                yield this.saveSettings();
            }
            if (this.settings.assetLocation === null) {
                this.settings.assetLocation = '';
                console.info('Cleaning up asset location setting.');
                yield this.saveSettings();
            }
            // add twitter icon with a delay so it won't end up first
            this.addRibbonIcon('twitter', 'Tweet to Markdown', () => {
                new TweetUrlModal(this.app, this).open();
            });
            this.addCommand({
                id: 'open-tweet-url-modal',
                name: 'Download Tweet from URL',
                callback: () => {
                    new TweetUrlModal(this.app, this).open();
                },
            });
            this.addSettingTab(new TTMSettingTab(this.app, this));
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
}

module.exports = TTM;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy9zZXR0aW5ncy50cyIsInNyYy91bmljb2RlU3Vic3RyaW5nLnRzIiwic3JjL3V0aWwudHMiLCJzcmMvZG93bmxvYWRNYW5hZ2VyLnRzIiwic3JjL1R3ZWV0Q29tcGxldGVNb2RhbC50cyIsInNyYy9Ud2VldFVybE1vZGFsLnRzIiwibWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6bnVsbCwibmFtZXMiOlsiUGx1Z2luU2V0dGluZ1RhYiIsIlNldHRpbmciLCJQbGF0Zm9ybSIsInJlcXVlc3QiLCJub3JtYWxpemVQYXRoIiwiTm90aWNlIiwiTW9kYWwiLCJQbHVnaW4iLCJhZGRJY29uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdURBO0FBQ08sU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFO0FBQzdELElBQUksU0FBUyxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsT0FBTyxLQUFLLFlBQVksQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxVQUFVLE9BQU8sRUFBRSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO0FBQ2hILElBQUksT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLEVBQUUsVUFBVSxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQy9ELFFBQVEsU0FBUyxTQUFTLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxD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
